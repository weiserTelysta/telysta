import{d as v,r as g,a as w,o as l,c as n,b as i,e,w as b,f as p,v as m,g as u,F as h,u as y,h as k,i as c,_ as V}from"./index-DoWVSyaT.js";import{B as x,a as B}from"./BaseHeadNavigationSimple-zh_LCDa9.js";const N={class:"mainbody"},S={class:"login-container"},C={class:"glass-form"},q={class:"form-group"},F={class:"form-group"},H={type:"submit",class:"submit-btn"},I={key:0},L={key:1,class:"loader"},M={class:"form-footer"},T=v({__name:"LoginView",setup(U){const f=y(),a=g(!1),s=w({email:"",password:""}),_=async()=>{try{a.value=!0;const t=await B.login(s.email,s.password);localStorage.setItem("token",t.access_token),console.log("登录成功",t),f.push({name:"home"})}catch(t){console.error("登录失败:",t)}finally{a.value=!1}};return(t,o)=>{const d=k("router-link");return l(),n(h,null,[i(x),e("div",N,[e("div",S,[e("div",C,[o[6]||(o[6]=e("h1",{class:"form-title"},"欢迎登录",-1)),e("form",{onSubmit:b(_,["prevent"])},[e("div",q,[o[2]||(o[2]=e("label",{for:"email"},"邮箱",-1)),p(e("input",{id:"email","onUpdate:modelValue":o[0]||(o[0]=r=>s.email=r),type:"email",required:"",placeholder:"请输入注册邮箱"},null,512),[[m,s.email]])]),e("div",F,[o[3]||(o[3]=e("label",{for:"password"},"密码",-1)),p(e("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=r=>s.password=r),type:"password",required:"",placeholder:"请输入密码",minlength:"6",autocomplete:"current-password"},null,512),[[m,s.password]])]),e("button",H,[a.value?(l(),n("div",L)):(l(),n("span",I,"立即登录"))]),e("div",M,[i(d,{to:"/register"},{default:u(()=>o[4]||(o[4]=[c("注册账号")])),_:1}),i(d,{to:"/forgot-password"},{default:u(()=>o[5]||(o[5]=[c("忘记密码？")])),_:1})])],32)])])])],64)}}}),R=V(T,[["__scopeId","data-v-d729a9c2"]]);export{R as default};
